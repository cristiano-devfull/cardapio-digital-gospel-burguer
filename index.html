<!DOCTYPE html>
<html lang="pt-br" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gospel Burger - Card√°pio Aben√ßoado</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="./assets/logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- Estilos -->
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/password-recovery-styles.css">
</head>

<body>

    <header>
        <div class="header-content">
            <div class="brand-container">
                <img src="./assets/logo.png" alt="Gospel Burger Logo" class="logo-img">
                <h1>Gospel Burger</h1>
            </div>
            <div class="brand-subtitle">
                <p>Card√°pio Aben√ßoado</p>
            </div>
            <div class="operating-hours-container">
                <span>Hor√°rio de Funcionamento</span>
                <div>
                    <span>üïê</span>
                    <span id="header-hours">08:00 - 03:00</span>
                </div>
            </div>
            <div class="theme-switch-wrapper">
                <label for="checkbox" id="theme-label">Modo Escuro</label>
                <label class="theme-switch">
                    <input type="checkbox" id="checkbox">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </header>

    <main class="container">
        <section id="menu-section">
            <nav class="category-tabs">
                <button class="tab-btn active" data-category="hamburgersClassicos">Cl√°ssicos</button>
                <button class="tab-btn" data-category="hamburgersPremiums">Premiums</button>
                <button class="tab-btn" data-category="bebidas">Bebidas</button>
            </nav>

            <div id="menu-content" class="menu-grid">
                <!-- Os produtos ser√£o inseridos aqui pelo JavaScript -->
            </div>
        </section>

        <aside id="cart-container">
            <!-- Bot√£o para fechar o carrinho no mobile -->
            <button class="close-cart-btn">√ó</button>

            <h3>Seu Pedido</h3>
            <ul id="cart-items">
                <!-- Itens do carrinho ser√£o inseridos aqui -->
            </ul>
            <p id="empty-cart">Seu carrinho est√° vazio.</p>
            <div class="cart-footer">
                <div class="cart-summary">
                    <p class="subtotal">Subtotal: <strong id="cart-subtotal">R$ 0,00</strong></p>
                    <p class="service-fee" id="service-fee-display" style="display: none;">Taxa de servi√ßo (5%): <strong
                            id="cart-service-fee">R$ 0,00</strong></p>
                    <p class="total">Total: <strong id="cart-total">R$ 0,00</strong></p>
                </div>
                <button id="checkout-btn">Finalizar Pedido</button>
            </div>
        </aside>
    </main>

    <!-- Floating Cart Button for Mobile -->
    <button id="floating-cart-btn" class="floating-cart-btn">
        üõí
        <span id="cart-badge" class="badge" style="display: none;">0</span>
    </button>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Modal de Restaurante Fechado -->
    <div id="closed-modal" class="modal">
        <div class="modal-content">
            <h2>üö´ Estamos Fechados</h2>
            <p>No momento, estamos fora do nosso hor√°rio de atendimento.</p>
            <p>Retornamos √†s:</p>
            <p class="opening-time">08:00</p>
        </div>
    </div>

    <!-- Modal de Finaliza√ß√£o de Pedido -->
    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">√ó</span>
            <h2>Finalizar seu Pedido Aben√ßoado</h2>
            <form id="checkout-form">
                <!-- Op√ß√µes de Mesa/Delivery -->
                <div class="order-type-options">
                    <label>
                        <input type="radio" name="order-type" value="Mesa">
                        Mesa
                    </label>
                    <label>
                        <input type="radio" name="order-type" value="Delivery" checked>
                        Delivery
                    </label>
                </div>

                <div class="form-group">
                    <label for="name">Nome Completo:</label>
                    <input type="text" id="name" name="name" required>
                </div>

                <!-- Campo de Endere√ßo (vis√≠vel por padr√£o) -->
                <div class="form-group" id="address-group">
                    <label for="address">Endere√ßo Completo:</label>
                    <input type="text" id="address" name="address" required>
                </div>

                <!-- Campo de Mesa (escondido por padr√£o) -->
                <div class="form-group" id="mesa-group" style="display: none;">
                    <label for="mesa">N√∫mero da Mesa:</label>
                    <select id="mesa" name="mesa">
                        <option value="1">Mesa 1</option>
                        <option value="2">Mesa 2</option>
                        <option value="3">Mesa 3</option>
                        <option value="4">Mesa 4</option>
                        <option value="5">Mesa 5</option>
                        <option value="6">Mesa 6</option>
                        <option value="7">Mesa 7</option>
                        <option value="8">Mesa 8</option>
                        <option value="9">Mesa 9</option>
                        <option value="10">Mesa 10</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="payment">M√©todo de Pagamento:</label>
                    <select id="payment" name="payment" required>
                        <option value="" disabled selected>Selecione...</option>
                        <option value="Dinheiro">Dinheiro</option>
                        <option value="Pix">Pix</option>
                        <option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option>
                        <option value="Cart√£o de D√©bito">Cart√£o de D√©bito</option>
                    </select>
                    <p id="payment-fee-notice"
                        style="display: none; margin-top: 0.5rem; color: var(--primary-color); font-size: 0.9rem;">
                        *Ser√° acrescida 5% ao valor total para pagamentos com cart√£o.
                    </p>
                </div>

                <div class="form-group">
                    <label for="notes">Observa√ß√µes (opcional):</label>
                    <textarea id="notes" name="notes" rows="4"></textarea>
                </div>

                <button type="submit" class="submit-btn">Enviar Pedido</button>
            </form>
        </div>
    </div>

    <!-- Modal Administrativo -->
    <div id="admin-modal" class="modal">
        <div class="modal-content">
            <h2>Acesso Administrativo</h2>

            <!-- Formul√°rio de Login -->
            <form id="admin-login-form">
                <div class="form-group">
                    <label for="admin-password">Senha:</label>
                    <input type="password" id="admin-password" required>
                </div>
                <button type="submit" class="submit-btn">Entrar</button>
                <p style="margin-top: 1rem; text-align: center;">
                    <a href="#" id="forgot-password-link"
                        style="color: var(--primary-color); text-decoration: none;">Esqueceu sua
                        senha?</a>
                </p>
            </form>

            <!-- Formul√°rio de Recupera√ß√£o de Senha (WhatsApp) -->
            <form id="forgot-password-whatsapp-form" style="display: none;">
                <h3>Recuperar Senha</h3>
                <p style="margin-bottom: 1rem;">Digite seu telefone para receber o c√≥digo de
                    verifica√ß√£o:</p>
                <div class="form-group">
                    <label for="recovery-phone">Telefone (WhatsApp):</label>
                    <input type="tel" id="recovery-phone" placeholder="(85) 98835-9720" required>
                </div>
                <button type="submit" class="submit-btn">Enviar C√≥digo</button>
                <p style="margin-top: 1rem; text-align: center;">
                    <a href="#" id="back-to-login-whatsapp"
                        style="color: var(--primary-color); text-decoration: none;">Voltar ao
                        login</a>
                </p>
            </form>

            <!-- Formul√°rio de Verifica√ß√£o de C√≥digo -->
            <form id="verify-code-form" style="display: none;">
                <h3>Verificar C√≥digo</h3>
                <p style="margin-bottom: 1rem;">Digite o c√≥digo enviado para <strong id="phone-display"></strong>:</p>
                <div class="form-group">
                    <label for="verification-code">C√≥digo de 6 d√≠gitos:</label>
                    <input type="text" id="verification-code" maxlength="6" pattern="\d{6}" required>
                </div>
                <div class="form-group">
                    <label for="new-password-whatsapp">Nova Senha:</label>
                    <input type="password" id="new-password-whatsapp" minlength="6" required>
                </div>
                <button type="submit" class="submit-btn">Redefinir Senha</button>
                <p style="margin-top: 1rem; text-align: center;">
                    <a href="#" id="resend-code-link"
                        style="color: var(--primary-color); text-decoration: none;">Reenviar
                        c√≥digo</a>
                </p>
            </form>

            <!-- Formul√°rio de Redefini√ß√£o de Senha (Fluxo de Email) -->
            <form id="reset-password-form" style="display: none;">
                <h3>Redefinir Senha</h3>
                <p style="margin-bottom: 1rem;">Digite sua nova senha abaixo:</p>
                <div class="form-group">
                    <label for="new-password-email">Nova Senha:</label>
                    <input type="password" id="new-password-email" minlength="6" required>
                </div>
                <button type="submit" class="submit-btn">Salvar Nova Senha</button>
            </form>
        </div>
    </div>

    <!-- Painel Administrativo -->
    <div id="admin-panel" style="display: none;">
        <div class="admin-container">
            <h2>Painel Administrativo</h2>
            <button id="admin-logout-btn" class="btn-logout">Sair</button>

            <div class="admin-section">
                <h3>Hor√°rio de Funcionamento</h3>
                <form id="admin-hours-form" style="display: flex; gap: 1rem; align-items: center; flex-wrap: wrap;">
                    <label>Abertura:</label>
                    <input type="number" id="admin-open-hour" min="0" max="23" style="width: 80px;">
                    <label>Fechamento:</label>
                    <input type="number" id="admin-close-hour" min="0" max="23" style="width: 80px;">
                    <button type="submit" class="btn-save">Salvar Hor√°rio</button>
                </form>
            </div>

            <div id="admin-menu-editor">
                <!-- Formul√°rios para edi√ß√£o dos itens ser√£o gerados aqui -->
            </div>
        </div>
    </div>

    <footer>
        <p>¬© <span id="current-year"></span> R2C Automa√ß√µes. Todos os direitos reservados.</p>
    </footer>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="./js/app.js"></script>
    <script src="./js/password-recovery.js"></script>

</body>

</html>